import{a as f,S as h,i as p}from"./assets/vendor-ee72e1a4.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();async function y(e,t){f.defaults.baseURL="https://pixabay.com";const r={key:"44428976-d6e941eddcd51cc03234da6bf",q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:w,page:t};try{return(await f.get("/api/",{params:r})).data}catch(a){console.log(a)}}function L(e){const t=document.getElementById("gallery");t.innerHTML=e.map(r=>`
        <li class="gallery-item">
            <a href="${r.largeImageURL}" class="gallery-link">
                <img src="${r.webformatURL}" alt="${r.tags}">
            </a>
            <div class="info">
                <p><strong>Likes:</strong> ${r.likes}</p>
                <p><strong>Views:</strong> ${r.views}</p>
                <p><strong>Comments:</strong> ${r.comments}</p>
                <p><strong>Downloads:</strong> ${r.downloads}</p>
            </div>
        </li>
    `).join("")}function b(e){e.classList.remove("loader-hidden")}function v(e){e.classList.add("loader-hidden")}const I=document.getElementById("search-form"),M=document.getElementById("search-input"),l=document.getElementById("loader"),c=document.querySelector(".gallery"),u=document.querySelector(".load-more__button");new h(".gallery a",{captionsData:"alt",captionDelay:250});const w=15;let n=1,i="",E=new h(".gallery a"),g;function m(){c.innerHTML=""}function C(){return n=n+1}function P(){u.classList.remove("active")}function S(){u.classList.add("active")}function H(){return n=1}function B(){if(n>=g)return P(),p.error({class:"izt-toast-message",message:"We're sorry, but you've reached the end of search results.",messageSize:"16",messageLineHeight:"24",messageColor:"#ffffff",backgroundColor:"#b51b1b",iconUrl:iconClose,position:"topRight",theme:"dark"});S()}function O(){const t=c.children[0].getBoundingClientRect().height;window.scrollBy({top:t*2,behavior:"smooth"})}I.addEventListener("submit",async e=>{if(e.preventDefault(),i=M.value.trim(),H(),P(),i.length!==0){b(l);try{const t=await y(i,n);g=Math.ceil(t.totalHits/w),t.hits.length===0?(p.show({class:"izt-toast-message",message:"Sorry, there are no images matching your search query. Please try again!",messageSize:"16",messageLineHeight:"24",messageColor:"#ffffff",backgroundColor:"#b51b1b",iconUrl:iconClose,position:"topRight",theme:"dark"}),m()):(m(),c.innerHTML=L(t.hits),E.refresh(),B())}catch(t){console.log(t)}v(l)}formEl.reset()});u.addEventListener("click",async()=>{try{const e=await y(i,n);b(l),c.insertAdjacentHTML("beforeend",L(e.hits)),E.refresh(),O(),v(l),C(),B(g)}catch(e){console.log(e)}});
//# sourceMappingURL=commonHelpers.js.map
