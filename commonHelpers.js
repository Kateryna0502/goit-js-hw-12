import{a as f,S as p,i as y}from"./assets/vendor-ee72e1a4.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();async function L(t,e){f.defaults.baseURL="https://pixabay.com";const o={key:"44428976-d6e941eddcd51cc03234da6bf",q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:E,page:e};try{return(await f.get("/api/",{params:o})).data}catch(a){console.log(a)}}const M=document.getElementById("gallery");async function b(t){let e=t.map(o=>`
        <li class="gallery-item">
            <a href="${o.largeImageURL}" class="gallery-link">
                <img src="${o.webformatURL}" alt="${o.tags}">
            </a>
            <div class="info">
                <p><strong>Likes:</strong> ${o.likes}</p>
                <p><strong>Views:</strong> ${o.views}</p>
                <p><strong>Comments:</strong> ${o.comments}</p>
                <p><strong>Downloads:</strong> ${o.downloads}</p>
            </div>
        </li>`).join("");return M.insertAdjacentHTML("beforeend",e),e}function v(t){t.classList.remove("loader-hidden")}function w(t){t.classList.add("loader-hidden")}const m=document.getElementById("search-form"),C=document.getElementById("search-input"),c=document.getElementById("loader"),l=document.querySelector(".gallery"),u=document.querySelector(".load-more__button");new p(".gallery a",{captionsData:"alt",captionDelay:250});const E=15;let n=1,i="",P=new p(".gallery a"),g;function h(){l.innerHTML=""}function S(){return n=n+1}function B(){u.classList.remove("active")}function $(){u.classList.add("active")}function k(){return n=1}function I(){if(n>=g)return B(),y.error({class:"izt-toast-message",message:"We're sorry, but you've reached the end of search results.",messageSize:"16",messageLineHeight:"24",messageColor:"#ffffff",backgroundColor:"#b51b1b",iconUrl:iconClose,position:"topRight",theme:"dark"});$()}function H(){const e=l.children[0].getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})}m.addEventListener("submit",async t=>{if(t.preventDefault(),i=C.value.trim(),k(),B(),i.length!==0){v(c);try{const e=await L(i,n);if(g=Math.ceil(e.totalHits/E),e.hits.length===0)y.show({class:"izt-toast-message",message:"Sorry, there are no images matching your search query. Please try again!",messageSize:"16",messageLineHeight:"24",messageColor:"#ffffff",backgroundColor:"#b51b1b",iconUrl:iconClose,position:"topRight",theme:"dark"}),h();else{h();const o=b(e.hits);l.innerHTML=o,P.refresh(),I()}}catch(e){console.log(e)}w(c)}m.reset()});u.addEventListener("click",async()=>{try{const t=await L(i,n);v(c),l.insertAdjacentHTML("beforeend",b(t.hits)),P.refresh(),H(),w(c),S(),I(g)}catch(t){console.log(t)}});
//# sourceMappingURL=commonHelpers.js.map
